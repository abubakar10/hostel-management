@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200;
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary-600 dark:bg-primary-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-700 dark:hover:bg-primary-600 transition-colors duration-200 shadow-md hover:shadow-lg transform hover:scale-105;
  }
  
  .btn-secondary {
    @apply bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200;
  }
  
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-900/50 p-6 hover:shadow-xl dark:hover:shadow-gray-900/70 transition-shadow duration-300;
  }
  
  .input-field {
    @apply w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-transparent outline-none transition-all duration-200;
    scroll-behavior: smooth;
  }
  
  .table-container {
    @apply overflow-x-auto rounded-lg shadow-md dark:shadow-gray-900/50;
  }
  
  .table {
    @apply min-w-full divide-y divide-gray-200 dark:divide-gray-700;
  }
  
  .table-header {
    @apply bg-gray-50 dark:bg-gray-800;
  }
  
  .table-header-cell {
    @apply px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider;
  }
  
  .table-body {
    @apply bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700;
  }
  
  .table-cell {
    @apply px-3 sm:px-4 md:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-900 dark:text-gray-100;
  }
  
  /* Mobile-friendly buttons */
  .btn-primary,
  .btn-secondary {
    @apply min-h-[44px] touch-manipulation;
  }
  
  /* Mobile-optimized cards */
  .card {
    @apply p-4 sm:p-6;
  }
  
  /* Mobile-friendly inputs */
  .input-field {
    @apply text-base sm:text-sm;
  }
  
  /* Mobile-optimized modal */
  .modal-mobile {
    @apply w-full max-w-full sm:max-w-md md:max-w-2xl;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-800;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 dark:bg-gray-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500 dark:bg-gray-500;
}

/* Smooth scrolling for dropdowns */
select {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Recharts dark mode styling */
.recharts-cartesian-axis-tick-value {
  fill: rgb(156, 163, 175);
}

.dark .recharts-cartesian-axis-tick-value {
  fill: rgb(209, 213, 219);
}

.recharts-legend-item-text {
  fill: rgb(75, 85, 99);
}

.dark .recharts-legend-item-text {
  fill: rgb(209, 213, 219);
}

.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
  stroke: rgb(229, 231, 235);
}

.dark .recharts-cartesian-grid-horizontal line,
.dark .recharts-cartesian-grid-vertical line {
  stroke: rgb(55, 65, 81);
}

/* Smooth scrolling for date picker dropdowns */
input[type="date"]::-webkit-calendar-picker-indicator {
  cursor: pointer;
}

/* Ensure smooth scrolling in modals and scrollable containers */
.modal-content,
[class*="overflow"] {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Smooth scrolling for native dropdown lists */
select:focus {
  scroll-behavior: smooth;
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  /* Ensure tables are scrollable on mobile */
  .table-container {
    -webkit-overflow-scrolling: touch;
    overflow-x: auto;
    display: block;
    width: 100%;
    margin-left: -0.75rem;
    margin-right: -0.75rem;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
  
  .table {
    min-width: 640px; /* Ensure table doesn't get too compressed */
  }
  
  /* Better touch targets on mobile */
  button, a, label[role="button"] {
    min-height: 48px;
    min-width: 48px;
  }
  
  /* Prevent text size adjustment on iOS */
  input, select, textarea {
    font-size: 16px !important;
  }
  
  /* Better modal spacing on mobile */
  .modal-content {
    padding: 1rem !important;
    max-height: 95vh;
    margin: 0.5rem;
    border-radius: 0.75rem;
  }
  
  /* Stack form elements better on mobile */
  .grid {
    grid-template-columns: 1fr !important;
  }
  
  /* Make page headers responsive */
  h1 {
    font-size: 1.5rem !important;
    line-height: 1.2;
  }
  
  /* Make cards more compact on mobile */
  .card {
    padding: 1rem !important;
    margin: 0;
    border-radius: 0.75rem;
  }
  
  /* Better button spacing */
  .btn-primary, .btn-secondary {
    padding: 0.875rem 1.25rem;
    font-size: 0.9375rem;
    min-height: 48px;
  }
  
  /* Responsive text sizes */
  .text-3xl {
    font-size: 1.5rem !important;
  }
  
  .text-2xl {
    font-size: 1.25rem !important;
  }
  
  /* Better spacing in flex containers */
  .flex.gap-4 {
    gap: 0.75rem;
  }
  
  /* Hide labels on very small screens, show icons */
  .hidden-mobile {
    display: none;
  }
  
  /* Improve scroll behavior on mobile */
  * {
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Better focus states for accessibility */
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid rgb(59, 130, 246);
    outline-offset: 2px;
  }
}

/* Tablet improvements */
@media (min-width: 641px) and (max-width: 1024px) {
  .table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .table {
    min-width: 800px;
  }
  
  .card {
    padding: 1.25rem;
  }
  
  h1 {
    font-size: 2rem;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  /* Larger touch targets */
  button, a, input[type="button"], input[type="submit"], label[role="button"] {
    min-height: 48px;
    min-width: 48px;
  }
  
  /* Remove hover effects on touch devices */
  .hover\:scale-105:hover {
    transform: none;
  }
  
  /* Better spacing for touch */
  .space-y-4 > * + * {
    margin-top: 0.75rem;
  }
  
  /* Larger tap areas */
  .p-2 {
    padding: 0.75rem;
  }
  
  /* Improve touch feedback */
  button:active {
    transform: scale(0.97);
    transition: transform 0.1s ease;
  }
  
  /* Better scroll momentum */
  * {
    -webkit-overflow-scrolling: touch;
  }
}

/* Global mobile improvements */
@media (max-width: 1024px) {
  /* Make all modals mobile-friendly */
  .fixed.inset-0 .bg-white {
    margin: 0.5rem;
    max-width: calc(100% - 1rem) !important;
  }
  
  /* Better form layouts */
  form .grid {
    gap: 0.75rem;
  }
  
  /* Responsive table cells */
  .table-cell {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
  }
  
  .table-header-cell {
    padding: 0.5rem 0.75rem;
    font-size: 0.75rem;
  }
  
  /* Improve card shadows on mobile */
  .card {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  }
  
  /* Better spacing for mobile cards */
  .space-y-3 > * + * {
    margin-top: 0.75rem;
  }
  
  .space-y-4 > * + * {
    margin-top: 1rem;
  }
}

/* Extra small devices (phones in portrait) */
@media (max-width: 375px) {
  /* Even more compact spacing */
  .card {
    padding: 0.875rem !important;
  }
  
  h1 {
    font-size: 1.25rem !important;
  }
  
  .btn-primary, .btn-secondary {
    font-size: 0.875rem;
    padding: 0.75rem 1rem;
  }
}


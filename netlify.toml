[build]
  # Base directory for the build (client folder)
  base = "client"
  
  # Build command - install dependencies and build
  command = "npm install --legacy-peer-deps && npm run build"
  
  # Publish directory (where Vite outputs the build)
  publish = "dist"
  
  # Environment variables
  [build.environment]
    NODE_VERSION = "20"
    NPM_FLAGS = "--legacy-peer-deps"

# Redirects for SPA (React Router)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

